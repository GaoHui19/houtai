import{l as k,m as F,p as u,E as D,a as d,U as o,M as t,a8 as $,S as p,af as l,aA as I,aB as S}from"./vue-c376286b.js";import{_ as A}from"./BaseIcon-8997e48f.js";import{I as E}from"./user-673881c7.js";import{e as L}from"./crypto-17c217c0.js";import{a as U,D as K}from"./index-edcb0a67.js";import{_ as j}from"./plugin-vue_export-helper-c27b6911.js";import"./lodash-683eb0bb.js";const z={width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M=u("rect",{x:"6",y:"22",width:"36",height:"22",rx:"2",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linejoin":"round"},null,-1),N=u("path",{d:"M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),R=u("path",{d:"M24 30V36",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),q=[M,N,R];function P(r,m){return k(),F("svg",z,q)}const T={name:"custom-lock",render:P};const y=r=>(I("data-v-faabddb6"),r=r(),S(),r),G={class:"login"},H=y(()=>u("div",{class:"login-header"},"账号登录",-1)),J={class:"flex mb-8"},O=p("记住账号"),Q={class:"ml-auto"},W=p("忘记密码？"),X=y(()=>u("span",{class:"text-white mx-2"},"没有账号?",-1)),Y=p("立即注册"),Z=p("登录"),ee=D({__name:"Login",setup(r){const m=d(),s=d({username:"admin",password:"123456",remember:!1}),i=d(!1),c=d(!1),B=U(),C={username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"},{min:6,max:20,message:"密码长度为6~20位",trigger:"blur"}]},h=()=>{var a;(a=m.value)==null||a.validate(async e=>{if(e)try{c.value=!0,await B.login({username:s.value.username,password:L(s.value.password,K)})}catch(_){console.error(_)}finally{c.value=!1}})};return(a,e)=>{const _=E,f=A,w=l("el-input"),g=l("el-form-item"),x=T,b=l("el-form"),V=l("el-checkbox"),v=l("el-button");return k(),F("div",G,[H,o(b,{ref_key:"formRef",ref:m,model:s.value,rules:C,"label-position":"top"},{default:t(()=>[o(g,{label:"账号",prop:"username"},{default:t(()=>[o(w,{modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=n=>s.value.username=n),placeholder:"请输入账号",autofocus:""},{prefix:t(()=>[o(f,{color:"#333",size:18},{default:t(()=>[o(_)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(g,{label:"密码",prop:"password"},{default:t(()=>[o(w,{modelValue:s.value.password,"onUpdate:modelValue":e[2]||(e[2]=n=>s.value.password=n),placeholder:"请输入密码",type:i.value?"text":"password",onKeyup:$(h,["enter"])},{prefix:t(()=>[o(f,{color:"#333",size:18},{default:t(()=>[o(x)]),_:1})]),suffix:t(()=>[o(f,{class:"cursor-pointer",name:i.value?"eye-open":"eye-close",color:"#333",size:18,onClick:e[1]||(e[1]=n=>i.value=!i.value)},null,8,["name"])]),_:1},8,["modelValue","type","onKeyup"])]),_:1})]),_:1},8,["model"]),u("div",J,[o(V,{modelValue:s.value.remember,"onUpdate:modelValue":e[3]||(e[3]=n=>s.value.remember=n)},{default:t(()=>[O]),_:1},8,["modelValue"]),u("div",Q,[o(v,{type:"primary",link:"",onClick:e[4]||(e[4]=n=>a.$router.push("/password"))},{default:t(()=>[W]),_:1}),X,o(v,{type:"primary",link:"",onClick:e[5]||(e[5]=n=>a.$router.push("/register"))},{default:t(()=>[Y]),_:1})])]),o(v,{class:"button-login",type:"primary",loading:c.value,block:"",onClick:h},{default:t(()=>[Z]),_:1},8,["loading"])])}}}),le=j(ee,[["__scopeId","data-v-faabddb6"]]);export{le as default};
