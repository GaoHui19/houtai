import{b as y}from"./file-bac6fb80.js";import{_ as x}from"./plugin-vue_export-helper-c27b6911.js";import{E as b,a as o,d as B,l as _,m as i,p as u,U as p,M as f,R as C,S as s,af as D,aA as T,aB as g}from"./vue-c376286b.js";const w=t=>(T("data-v-27392bd5"),t=t(),g(),t),F={class:"flex justify-end"},E=s("复制"),k=s("清除"),R={key:0,class:"empty"},I=s("任意文件"),N=w(()=>u("br",null,null,-1)),S=s("拖到这里"),V=[I,N,S],L=b({__name:"FileToBase64",setup(t){const a=o(),n=o(),r=o(!1),c=o("");B(()=>{v()});const v=()=>{a.value.addEventListener("dragenter",e=>{e.preventDefault()}),a.value.addEventListener("dragover",e=>{e.preventDefault()}),a.value.addEventListener("drop",async e=>{e.preventDefault();const l=await y(e.dataTransfer.files[0]);n.value.insertAdjacentText("afterBegin",l),c.value=l,r.value=!0})},m=async()=>{try{await navigator.clipboard.writeText(c.value),window.$message.success("复制成功")}catch(e){window.$message.error("复制失败"),console.error(e)}},h=()=>{n.value.innerText="",c.value="",r.value=!1};return(e,l)=>{const d=D("el-button");return _(),i("div",{class:"file-to-base64",ref_key:"pageRef",ref:a},[u("div",F,[p(d,{type:"primary",onClick:m},{default:f(()=>[E]),_:1}),p(d,{type:"info",onClick:h},{default:f(()=>[k]),_:1})]),r.value?C("",!0):(_(),i("div",R,V)),u("div",{class:"content",ref_key:"contentRef",ref:n},null,512)],512)}}}),$=x(L,[["__scopeId","data-v-27392bd5"]]);export{$ as default};
