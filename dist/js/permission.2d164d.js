(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{868:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(21),s=n.n(r),o=n(655),i={name:"Permission",data:function(){return{tableMng:o.a,key:1}},computed:{userInfo:function(){return this.$store.state.account.userInfo},currentRoles:{get:function(){return this.userInfo.roles},set:function(e){this.$store.commit("SET_USER_INFO",s()({},this.userInfo,{roles:e})),this.key++}}},methods:{handleChange:function(e){}}},a=n(10),u=Object(a.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("指令权限通过自定义指令来进行DOM级的控制，DOM不渲染，那么需要通过该DOM元素进行的一系列操作就无法进行。")]),e._v(" "),n("p",[e._v("\n\t\t比如某个信息页面，员工可以查看，领导也可以查看，但是领导还可以审核，那么只需要在这个审核按钮标签上设置指令v-permission=\"['leader']\",就可以只对领导显示。\n\t")]),e._v(" "),n("br"),e._v(" "),n("div",[e._v("\n\t\t当前角色为：\n\t\t"),e._l(e.userInfo.roles,(function(t,r){return n("span",{key:t},[e._v("\n\t\t\t"+e._s(e.tableMng.getNameById("role",t))+"\n\t\t\t"),r<e.userInfo.roles.length-1?n("span",[e._v("、")]):e._e()])}))],2),e._v(" "),n("br"),e._v(" "),n("span",[e._v("点击设置角色：")]),e._v(" "),n("el-radio-group",{on:{change:e.handleChange},model:{value:e.currentRoles,callback:function(t){e.currentRoles=t},expression:"currentRoles"}},[n("el-radio-button",{attrs:{label:["admin"]}},[e._v("管理员")]),e._v(" "),n("el-radio-button",{attrs:{label:["editor"]}},[e._v("编辑")]),e._v(" "),n("el-radio-button",{attrs:{label:["guest"]}},[e._v("游客")])],1),e._v(" "),n("div",{key:e.key},[n("br"),e._v(" "),n("p",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}]},[e._v("\n\t\t\t只有管理员才能看得到，只有管理员才能看得到，只有管理员才能看得到，只有管理员才能看得到，只有管理员才能看得到，只有管理员才能看得到。\n\t\t")]),e._v(" "),n("p",{directives:[{name:"permission",rawName:"v-permission",value:["guest","editor"],expression:"['guest', 'editor']"}]},[e._v("\n\t\t\t游客和编辑都可以看到，游客和编辑都可以看到，游客和编辑都可以看到，游客和编辑都可以看到，游客和编辑都可以看到，游客和编辑都可以看到。\n\t\t")])]),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("p",[e._v("路由权限通过router.addRoutes动态注册路由实现")]),e._v(" "),n("p",[e._v("\n\t\t查看路由权限效果，可以使用账号:admin，以管理员身份登录；账号：guest，以游客身份登录；账号：editor，以编辑身份登录。\n\t")])],1)}),[],!1,null,null,null).exports}}]);