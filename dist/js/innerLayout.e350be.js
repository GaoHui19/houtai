(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{701:function(t,e,n){},703:function(t,e,n){},704:function(t,e,n){},705:function(t,e,n){},706:function(t,e,n){},707:function(t,e,n){},708:function(t,e,n){},795:function(t,e,n){"use strict";var i=n(701);n.n(i).a},796:function(t,e,n){"use strict";var i=n(703);n.n(i).a},797:function(t,e,n){"use strict";var i=n(704);n.n(i).a},798:function(t,e,n){"use strict";var i=n(705);n.n(i).a},799:function(t,e,n){"use strict";var i=n(706);n.n(i).a},800:function(t,e,n){"use strict";var i=n(707);n.n(i).a},801:function(t,e,n){"use strict";var i=n(708);n.n(i).a},861:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y}));var i=n(21),s=n.n(i),a=n(40),l=n.n(a),o=n(76),r=n.n(o),c=n(209),u=n(287),h=n(288),m={data:function(){return{size:this.$store.getters.size,sizeSelectKey:0}},watch:{size:function(t){this.$ELEMENT.size=t,this.sizeSelectKey++,this.$store.commit("SET_SIZE",t),this.$store.commit("SET_CACHE_PAGES",[]),this.$router.replace("/reload")}}},d=n(3),f=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{key:t.sizeSelectKey,model:{value:t.size,callback:function(e){t.size=e},expression:"size"}},[n("el-option",{attrs:{label:"big",value:"default"}}),t._v(" "),n("el-option",{attrs:{label:"medium",value:"medium"}}),t._v(" "),n("el-option",{attrs:{label:"small",value:"small"}}),t._v(" "),n("el-option",{attrs:{label:"mini",value:"mini"}})],1)}),[],!1,null,null,null).exports,p=n(289),v={components:{StyleSetting:h.a,SizeSetting:f,ThemeSetting:p.a},data:function(){return{visible:!1,tagVisible:this.$store.getters.tagVisible}},watch:{tagVisible:function(t){this.$store.commit("SET_TAG_VISIBLE",t)}},methods:{open:function(){this.visible=!0}}},g={components:{SystemSetting:Object(d.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-drawer",{attrs:{title:"系统界面设置",visible:t.visible,size:"300px","show-footer":!1},on:{close:function(e){t.visible=!1}}},[n("el-form",{attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"导航标签："}},[n("el-switch",{model:{value:t.tagVisible,callback:function(e){t.tagVisible=e},expression:"tagVisible"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"系统风格："}},[n("style-setting")],1),t._v(" "),n("el-form-item",{attrs:{label:"元素大小："}},[n("size-setting")],1),t._v(" "),n("el-form-item",{attrs:{label:"换肤："}},[n("theme-setting")],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{isFullScreen:!1,avatar:""}},computed:s()({},Object(c.b)(["sideCollapse","userInfo"])),methods:{handleCollapse:function(){this.$store.commit("SET_SIDE_COLLAPSE",!this.sideCollapse)},handleTriggerFullScreen:function(){if(this.isFullScreen){var t=document,e=t.exitFullscreen||t.webkitCancelFullScreen||t.mozCancelFullScreen||t.msExitFullscreen;e&&e.call(t)}else{var n=document.documentElement,i=n.requestFullscreen||n.webkitRequestFullScreen||n.mozRequestFullScreen||n.msRequestFullscreen;i?i.call(n):this.$message({type:"warning",message:"您的浏览器不支持全屏浏览，请升级或更换浏览器！"})}this.isFullScreen=!this.isFullScreen},handleCommand:function(t){var e=this;return r()(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("logout"!==t){n.next=5;break}return n.next=3,e.$store.dispatch("logout");case 3:Object(u.b)(),e.$router.replace("/account/login");case 5:case"end":return n.stop()}}),n,e)})))()},handleOpenSetting:function(){this.$refs.systemSettingRef.open()}}},b=(n(795),Object(d.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-bar"},[n("i",{staticClass:"header-bar__collapse",class:t.sideCollapse?"el-icon-s-fold":"el-icon-s-unfold",on:{click:t.handleCollapse}}),t._v(" "),n("el-tooltip",{attrs:{effect:"dark",content:t.isFullScreen?"取消全屏":"全屏浏览",placement:"bottom"}},[n("i",{staticClass:"el-icon-rank",on:{click:t.handleTriggerFullScreen}})]),t._v(" "),n("el-dropdown",{on:{command:t.handleCommand}},[n("img",{staticClass:"avatar",attrs:{src:t.userInfo.avatar,alt:""}}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("router-link",{attrs:{to:"/mine"}},[n("el-dropdown-item",[t._v("个人中心")])],1),t._v(" "),n("el-dropdown-item",{attrs:{divided:"",command:"logout"}},[t._v("退出登录")])],1)],1),t._v(" "),n("i",{staticClass:"el-icon-setting",on:{click:t.handleOpenSetting}}),t._v(" "),n("system-setting",{ref:"systemSettingRef"})],1)}),[],!1,null,"3d9151b2",null).exports),_=n(702),C={computed:{sideCollapse:function(){return this.$store.getters.sideCollapse}}},S=(n(796),Object(d.a)(C,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"side-bar-logo",class:{collapse:this.sideCollapse}},[e("router-link",{staticClass:"link",attrs:{to:"/"}},[e("base-icon",{attrs:{name:"logo",size:24}}),this._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!this.sideCollapse,expression:"!sideCollapse"}]},[this._v("后台管理系统")])],1)],1)}),[],!1,null,"1315a546",null).exports),$={name:"MenuItem",props:{config:{required:!0,default:{}}}},w=(n(797),n(798),Object(d.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu-item"},[t.config.children?n("el-submenu",{attrs:{index:t.config.path}},[n("template",{slot:"title"},[t.config.icon?n("base-icon",{attrs:{name:t.config.icon,"icon-class":"menu-icon"}}):t._e(),t._v(" "),n("span",[t._v(t._s(t.config.title))])],1),t._v(" "),t._l(t.config.children,(function(t){return n("menu-item",{key:t.path,attrs:{config:t}})}))],2):n("el-menu-item",{attrs:{index:t.config.path}},[t.config.icon?n("base-icon",{attrs:{name:t.config.icon,"icon-class":"menu-icon"}}):t._e(),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.config.title))])],1)],1)}),[],!1,null,"0c9c8762",null).exports),k={components:{Scrollbar:_.a,Logo:S,MenuItem:w},data:function(){return{menuRouteMap:[],menuList:[]}},computed:{sideCollapse:function(){return this.$store.getters.sideCollapse},routeMap:function(){return this.$store.getters.routeMap},activePath:function(){var t=this.$route,e=t.meta,n=t.path;return e.activePath?e.activePath:n}},created:function(){this.menuRouteMap=this.getMenuRouteMap(this.routeMap),this.menuList=this.getMenu(this.menuRouteMap)},methods:{getMenuRouteMap:function(t){var e=this;return t.filter((function(t){return!t.meta.hiddenInMenu&&(!t.children||(t.children=e.getMenuRouteMap(t.children),0!==t.children.length))}))},getMenuItem:function(t){var e=this;return t.children&&1!==t.children.length?{title:t.meta.title,icon:t.meta.icon,path:t.path,children:t.children.map((function(t){return e.getMenuItem(t)}))}:{title:t.meta.title,icon:t.meta.icon,path:t.path}},getMenu:function(t){var e=this;return this.menuRouteMap.map((function(t){return e.getMenuItem(t)}))}}},E=(n(799),Object(d.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"side-bar"},[e("logo"),this._v(" "),e("scrollbar",[e("el-menu",{attrs:{"default-active":this.activePath,collapse:this.sideCollapse,"unique-opened":!1,router:"","background-color":"#545c64","text-color":"#fff"}},this._l(this.menuList,(function(t){return e("menu-item",{key:t.path,attrs:{config:t}})})),1)],1)],1)}),[],!1,null,"c8752b1c",null).exports),x=n(761),L={components:{Scrollbar:_.a},data:function(){return{tagList:[]}},watch:{$route:function(t){this.addTag(t)},tagList:function(){var t=this.tagList.filter((function(t){return!t.noCache})).map((function(t){return t.name}));this.$store.commit("SET_CACHE_PAGES",t)}},created:function(){var t=this;this.addTag(this.$route),x.a.$on("closeTag",(function(e){var n=t.tagList.findIndex((function(t){return t.path===e}));t.tagList.splice(n,1)}))},methods:{isTagActive:function(t){return this.$route.path===t},addTag:function(t){!this.tagList.some((function(e){return e.path===t.path}))&&t.name&&this.tagList.push({title:t.meta.title,path:t.path,name:t.name,noCache:t.meta.noCache})},handleClose:function(t){if(1===this.tagList.length&&"/dashboard"===this.tagList[0].path)return!1;var e=this.tagList.splice(t,1)[0],n=this.tagList[t]?this.tagList[t]:this.tagList[t-1];n?e.path==this.$route.path&&this.$router.push(n.path):this.$router.push("/dashboard")}}},M=(n(800),{components:{HeaderBar:b,SideBar:E,NavTag:Object(d.a)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scrollbar",[n("div",{staticClass:"nav-tag"},t._l(t.tagList,(function(e,i){return n("div",{key:e.path,staticClass:"nav-tag__item",class:{active:t.isTagActive(e.path)},on:{dblclick:function(e){return t.handleClose(i)}}},[n("router-link",{staticClass:"link",attrs:{to:e.path}},[t._v(t._s(e.title))]),t._v(" "),n("i",{staticClass:"el-icon-circle-close close",on:{click:function(e){return t.handleClose(i)}}})],1)})),0)])}),[],!1,null,"51c06916",null).exports},computed:s()({},Object(c.b)(["tagVisible","cachePages"]),{key:function(){return this.$route.path}})}),y=(n(801),Object(d.a)(M,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"inner-layout"},[e("side-bar"),this._v(" "),e("div",{staticClass:"inner-layout__main"},[e("header-bar"),this._v(" "),e("nav-tag",{directives:[{name:"show",rawName:"v-show",value:this.tagVisible,expression:"tagVisible"}]}),this._v(" "),e("div",{staticClass:"inner-layout__page"},[e("transition",{attrs:{name:"page",mode:"out-in"}},[e("keep-alive",{attrs:{include:this.cachePages}},[e("router-view",{key:this.key})],1)],1)],1)],1)],1)}),[],!1,null,"4151fbdc",null).exports)}}]);